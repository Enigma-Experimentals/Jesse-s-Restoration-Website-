---
import type { HTMLAttributes } from 'astro/types';
	
type Props = HTMLAttributes<'a'>;

const { href, class: className, ...props } = Astro.props;
const pathname = Astro.url.pathname.replace(import.meta.env.BASE_URL, '');
const subpath = pathname.match(/[^\/]+/g);
const isActive = href === pathname || href === '/' + (subpath?.[0] || '');

const url = import.meta.env.BASE_URL+"/"+href
---

<a href={url} class:list={[className, { active: isActive }]} {...props}>
	<slot />
</a>
<style lang="less">
	a {
		position: relative;
		display: inline-block;
		text-decoration: none;
		z-index: 1;

		background-color: rgb(248, 231, 231);
		&:hover{

			color:white !important;
			&::before{
				height: 100%;
			}
		}

		&::before{
			content:"";

			position: absolute;
			left:0;
			bottom:0;
			height:0;
			width: 100%;

			z-index: -1;

			transition: 250ms;

			background-color: red;
		}

		&::after{
			content:"";

			position: absolute;
			left:0;
			bottom:0px;
			height:5px;
			width: 100%;

			z-index: -1;


			background-color: red;
		}
		width:110px;
	}
	a.active {
		font-weight: bolder;
		text-decoration: underline;

		
	}
	a{
		text-align: center;
	}

	@media (max-width: 800px) {
		a{
			width: 90px;
			font-size: 14px;
		}
	}
</style>
